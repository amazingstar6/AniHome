query getMediaDetail($id: Int!) {
    Media(id: $id) {
        id
        idMal
        type
        title {
            romaji
            english
            native
        }
        format
        status
        description
        startDate {
            year
            month
            day
        }
        endDate {
            year
            month
            day
        }
        season
        seasonYear
        #   The year & season
        seasonInt
        episodes
        duration
        chapters
        volumes
        countryOfOrigin
        isLicensed
        source
        hashtag
        # what is the id?
        trailer {
            id
            site
            thumbnail
        }
        # updatedAt is represented in the Unix timestamp
        updatedAt
        coverImage {
            extraLarge
            color
        }
        bannerImage
        genres
        synonyms
        isAdult
        averageScore
        meanScore
        # number of users with the media on their list
        popularity
        #     Locked media may not be added to lists our favorited. This may be due to the entry pending for deletion or other reasons.
        isLocked
        # amount of related activity in the past hour
        trending
        favourites
        tags {
            id
            name
            rank
            isMediaSpoiler
            userId
        }
        relations {
            edges {
                relationType
                node {
                    id
                    title {
                        native
                    }
                    coverImage {
                        extraLarge
                    }
                }
            }
        }
        characters(sort: RELEVANCE) {
            edges {
                node {
                    id
                    name {
                        native
                    }
                    image {
                        large
                    }
                }
                role
                name
                voiceActorRoles {
                    voiceActor {
                        id
                        name {
                            userPreferred
                        }
                        image {
                            large
                        }
                        languageV2
                    }
                    roleNotes
                    dubGroup
                }
            }
        }
        nextAiringEpisode {
            id
            airingAt
            timeUntilAiring
            episode
            mediaId
        }
        airingSchedule {
            nodes {
                id
            }
        }
        trends {
            nodes {
                mediaId
            }
        }
        externalLinks {
            id
            url
            site
            siteId
            type
            language
            color
            icon
            notes
            isDisabled
        }
        streamingEpisodes {
            title
            thumbnail
            url
            site
        }
        rankings {
            rank
            type
            year
            season
            allTime
            context
        }
        stats {
            scoreDistribution {
                score
                amount
            }
            statusDistribution {
                status
                amount
            }
        }
        mediaListEntry {
            id
        }
        reviews {
            nodes {
                id
            }
        }
        recommendations {
            nodes {
                id
            }
        }
        stats {
            scoreDistribution {
                score
                amount
            }
            statusDistribution {
                status
                amount
            }
        }
        siteUrl
        autoCreateForumThread
        isRecommendationBlocked
        isReviewBlocked
        modNotes
    }
}

query GetReviewsOfMedia($id: Int!, $page:Int = 1, $perPage:Int = 25) {
    Media(id: $id) {
        reviews(page: $page, perPage: $perPage) {
            nodes {
                id
                userId
                body(asHtml: true)
                summary
                user {
                    name
                    avatar {
                        large
                    }
                }
                rating
                ratingAmount
                userRating
                score
                createdAt
                updatedAt
                private
            }
            pageInfo {
                perPage
                currentPage
                lastPage
                hasNextPage
            }
        }
    }
}

query GetCharacterDetail($id: Int!) {
    Character(id: $id) {
        id
        name {
            first
            middle
            last
            full
            native
            alternative
            alternativeSpoiler
            userPreferred
        }
        image {
            large
        }
        description(asHtml: true)
        gender
        dateOfBirth {
            ...FuzzyDate
        }
        age
        bloodType
        isFavourite
        isFavouriteBlocked
        siteUrl
        media {
            edges {
                characterRole
                node {
                    id
                    title {
                        userPreferred
                    }
                    coverImage {
                        extraLarge
                    }
                }
                voiceActorRoles {
                    voiceActor {
                        id
                        name {
                            userPreferred
                        }
                        image {
                            large
                        }
                        languageV2
                    }
                }
            }
        }
        favourites
        modNotes
    }
}

query GetStaffDetail($id: Int!) {
    Staff(id: $id) {
        id
        image {
            large
        }
        name {
            userPreferred
            alternative
        }
        languageV2
        favourites
        description(asHtml: true)
        primaryOccupations
        gender
        dateOfBirth {
            ...FuzzyDate
        }
        dateOfDeath {
            ...FuzzyDate
        }
        age
        yearsActive
        homeTown
        bloodType
        ## FIXME THIS IS PAGED
        characters {
            edges {
                id
                node {
                    name {
                        userPreferred
                    }
                    image {
                        large
                    }
                }
                role
                name
            }
        }
        ## FIXME THIS IS ALSO PAGED
        anime:staffMedia(type: ANIME) {
            ...StaffMedia
        }

        manga:staffMedia(type: MANGA) {
            ...StaffMedia
        }
    }
}

fragment StaffMedia on MediaConnection {
    edges {
        node {
            id
            coverImage {
                extraLarge
            }
            title {
                userPreferred
            }
        }
        staffRole
    }
}

query GetReviewDetail($id: Int!) {
    Review(id: $id) {
        id
        summary,
        user {
            name
            avatar {
                large
            }
        }
        createdAt
        updatedAt
        body(asHtml: true)
        score
        rating
        ratingAmount
        userRating
    }
}

query GetStaffInfo($id:Int!, $page:Int = 1, $perPage:Int = 25) {
    Media(id:$id) {
        staff(page: $page, perPage: $perPage) {
            edges {
                node {
                    id
                    name {
                        first
                        middle
                        last
                        full
                        native
                        alternative
                        userPreferred
                    }
                    image {
                        large
                    }
                }
                role
                favouriteOrder
            }
            pageInfo {
                perPage
                currentPage
                lastPage
                hasNextPage
            }
        }
    }
}

fragment FuzzyDate on FuzzyDate {
    year
    month
    day
}

mutation ToggleFavoriteCharacter($id: Int!) {
    ToggleFavourite(characterId: $id) {
        characters {
            nodes {
                isFavourite
                isFavouriteBlocked
            }
        }
    }
}