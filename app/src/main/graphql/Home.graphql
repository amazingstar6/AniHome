query GetTrendingMedia(
    $page: Int!,
    $type: MediaType!,
    $currentSeason: MediaSeason!,
    $nextSeason: MediaSeason!,
    $currentYear: Int!,
    $nextYear: Int!,
    $skipTrendingNow: Boolean = false,
    $skipPopularThisSeason: Boolean = false,
    $skipUpcomingNextSeason: Boolean = false,
    $skipAllTimePopular: Boolean = false,
    $skipTop100Anime: Boolean = false
){
#       Default per page is 25, since the limit is 25
        trendingNow:
        Page(page: $page)@skip(if: $skipTrendingNow) {
            media(sort: TRENDING_DESC, type:$type) {
                ...mediaTitleCover
            }
        }
        popularThisSeason:
        Page(page: $page)@skip(if: $skipPopularThisSeason) {
            media(sort:POPULARITY_DESC, type: $type, season: $currentSeason, seasonYear: $currentYear) {
                ...mediaTitleCover
            }
        }
        upcomingNextSeason:
        Page(page: $page)@skip(if: $skipUpcomingNextSeason) {
            media(sort: POPULARITY_DESC, type: $type, season: $nextSeason, seasonYear: $nextYear) {
                ...mediaTitleCover
            }
        }
        allTimePopular:
        Page(page: $page)@skip(if: $skipAllTimePopular) {
            media(sort: POPULARITY_DESC, type:$type) {
                ...mediaTitleCover
            }
        }
        top100Anime:
        Page(page: $page)@skip(if: $skipTop100Anime) {
            media(sort: SCORE_DESC, type: $type) {
            ...mediaTitleCover
            }
        }
}

query GetMorePopularThisSeason(
    $page: Int!,
    $type: MediaType!,
    $currentSeason: MediaSeason!,
    $currentYear: Int!
) {
    popularThisSeason:
    Page(page: $page) {
        media(sort:POPULARITY_DESC, type: $type, season: $currentSeason, seasonYear: $currentYear) {
            ...mediaTitleCover
        }
    }
}

query GetMoreTrendingNow(
    $page: Int!,
    $type: MediaType!,
    $currentSeason: MediaSeason!,
    $currentYear: Int!
) {
    trendingNow:
    Page(page: $page) {
        media(sort: TRENDING, type:$type, season: $currentSeason, seasonYear: $currentYear) {
            ...mediaTitleCover
        }
    }
}

fragment mediaTitleCover on Media {
    id
    title {
        userPreferred
    }
    coverImage {
        extraLarge
    }
    type
}

# fixme paging
query SearchMedia($search: String!, $type: MediaType, $sort: [MediaSort] = SEARCH_MATCH, $genres: [String], $year: Int, $season: MediaSeason, $airingStatus: MediaStatus) {
    Page {
        media(search: $search, type: $type, sort: $sort, genre_in: $genres, seasonYear: $year, season: $season, status: $airingStatus) {
            id
            title {
                userPreferred
            }
            coverImage {
                extraLarge
            }
            type
            format
            episodes
            chapters
            volumes
            averageScore
            season
            seasonYear
        }
    }
}

query SearchCharacters($search: String!) {
    Page {
        characters(search: $search) {
            id
            name {
                userPreferred
            }
            favourites
        }
    }
}

query SearchStaff($search: String!) {
    Page {
        staff(search: $search) {
            id
            name {
                userPreferred
            }
            favourites
        }
    }
}

query SearchStudios($search: String!) {
    Page {
        studios(search: $search) {
            id
            name
        }
    }
}

query SearchForum($search: String!) {
    Page {
        threads(search: $search) {
            id
            title
        }
    }
}

query SearchUsers($search: String!) {
    Page {
        users(search: $search) {
            id
            name
        }
    }
}